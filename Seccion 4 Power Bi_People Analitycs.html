<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Curso: Power BI con People Analytics - Sección 4</title>
    <style>
        :root {
            --primary-color: #2C6BAC;
            --primary-dark: #1B4978;
            --secondary-color: #7CC6FE;
            --secondary-dark: #4A9FE6;
            --accent-color: #FF8A00;
            --accent-dark: #E67300;
            --background-color: #f8f9fa;
            --text-color: #333333;
            --text-light: #ffffff;
            --light-gray: #e9ecef;
            --dark-gray: #495057;
            --success-color: #28a745;
            --success-dark: #1e7e34;
            --danger-color: #dc3545;
            --danger-dark: #bd2130;
            --warning-color: #ffc107;
            --warning-dark: #d39e00;
            --info-color: #17a2b8;
            --info-dark: #138496;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --box-shadow-hover: 0 6px 10px rgba(0, 0, 0, 0.2);
            --transition: all 0.3s ease-in-out;
            --border-radius: 8px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--background-color);
            padding: 20px;
        }

        header {
            background: linear-gradient(135deg, var(--primary-dark), var(--primary-color));
            color: white;
            padding: 30px;
            border-radius: var(--border-radius);
            margin-bottom: 30px;
            box-shadow: var(--box-shadow);
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="rgba(255, 255, 255, 0.15)" d="M0,192L48,181.3C96,171,192,149,288,149.3C384,149,480,171,576,165.3C672,160,768,128,864,138.7C960,149,1056,203,1152,208C1248,213,1344,171,1392,149.3L1440,128L1440,320L1392,320C1344,320,1248,320,1152,320C1056,320,960,320,864,320C768,320,672,320,576,320C480,320,384,320,288,320C192,320,96,320,48,320L0,320Z"></path></svg>');
            background-position: bottom;
            background-repeat: no-repeat;
            opacity: 0.6;
            z-index: 0;
        }

        .header-content {
            position: relative;
            z-index: 1;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: var(--text-light);
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
        }

        h2 {
            font-size: 2rem;
            color: var(--primary-dark);
            margin: 40px 0 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--secondary-color);
        }

        h3 {
            font-size: 1.5rem;
            color: var(--dark-gray);
            margin: 30px 0 15px;
        }

        h4 {
            font-size: 1.2rem;
            color: var(--primary-color);
            margin: 20px 0 10px;
        }

        p {
            margin-bottom: 20px;
            font-size: 1.1rem;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }

        .section {
            margin-bottom: 40px;
        }

        .subsection {
            margin-bottom: 30px;
            padding: 20px;
            background-color: var(--background-color);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }

        /* Elementos interactivos */
        /* Tarjetas giratorias con mejor contraste y espacio */
        .flip-card-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
            margin: 30px 0;
        }

        .flip-card {
            background-color: transparent;
            width: 300px;
            height: 200px;
            perspective: 1000px;
            cursor: pointer;
            margin-bottom: 20px;
        }

        .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            box-shadow: var(--box-shadow);
            border-radius: var(--border-radius);
        }

        .flip-card:hover .flip-card-inner {
            transform: rotateY(180deg);
            box-shadow: var(--box-shadow-hover);
        }

        .flip-card-front, .flip-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            padding: 20px;
            border-radius: var(--border-radius);
        }

        .flip-card-front {
            background-color: var(--primary-dark);
            color: var(--text-light);
            border: 2px solid var(--primary-color);
        }

        .flip-card-front h3 {
            color: var(--text-light);
            margin-top: 0;
            margin-bottom: 10px;
            font-size: 1.4rem;
        }

        .flip-card-front p {
            margin-bottom: 0;
            font-size: 1.1rem;
            color: var(--secondary-color);
            font-weight: bold;
        }

        .flip-card-back {
            background-color: var(--secondary-dark);
            color: var(--text-light);
            transform: rotateY(180deg);
            overflow-y: auto;
            border: 2px solid var(--secondary-color);
            /* Aquí añadimos más padding superior para que el texto no quede pegado arriba */
            padding-top: 30px;
            text-align: left;
        }

        .flip-card-back h4 {
            color: var(--text-light);
            margin-top: 0;
            margin-bottom: 15px;
            font-size: 1.3rem;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
            text-align: center;
        }

        .flip-card-back p {
            margin-bottom: 10px;
            font-size: 1rem;
            line-height: 1.4;
        }

        /* Tabla interactiva */
        .interactive-table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
            box-shadow: var(--box-shadow);
            border-radius: var(--border-radius);
            overflow: hidden;
        }

        .interactive-table thead {
            background-color: var(--primary-dark);
            color: white;
        }

        .interactive-table th, .interactive-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid var(--light-gray);
        }

        .interactive-table tr:nth-child(even) {
            background-color: var(--light-gray);
        }

        .interactive-table tr {
            transition: var(--transition);
        }

        .interactive-table tr:hover {
            background-color: #dfe6e9;
        }

        /* Quiz de verdadero/falso */
        .quiz-container {
            margin: 30px 0;
            padding: 20px;
            background-color: var(--light-gray);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }

        .quiz-question {
            margin-bottom: 20px;
            padding: 15px;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .quiz-options {
            display: flex;
            gap: 10px;
            margin: 15px 0;
        }

        .quiz-option {
            padding: 10px 20px;
            border: 2px solid var(--primary-dark);
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            font-weight: bold;
            color: var(--primary-dark);
        }

        .quiz-option:hover {
            background-color: var(--primary-color);
            color: white;
        }

        .quiz-option.selected {
            background-color: var(--primary-dark);
            color: white;
        }

        .quiz-feedback {
            margin-top: 15px;
            padding: 10px;
            border-radius: var(--border-radius);
            font-weight: bold;
            display: none;
        }

        .quiz-feedback.correct {
            background-color: rgba(40, 167, 69, 0.2);
            color: var(--success-dark);
            border: 1px solid var(--success-color);
        }

        .quiz-feedback.incorrect {
            background-color: rgba(220, 53, 69, 0.2);
            color: var(--danger-dark);
            border: 1px solid var(--danger-color);
        }

        /* Botones */
        .btn {
            display: inline-block;
            padding: 10px 20px;
            background-color: var(--primary-dark);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            font-weight: bold;
            margin-right: 10px;
            margin-bottom: 10px;
        }

        .btn:hover {
            background-color: var(--primary-color);
            transform: translateY(-2px);
            box-shadow: var(--box-shadow-hover);
        }

        .btn-check {
            background-color: var(--success-dark);
        }

        .btn-check:hover {
            background-color: var(--success-color);
        }

        .btn-reset {
            background-color: var(--danger-dark);
        }

        .btn-reset:hover {
            background-color: var(--danger-color);
        }

        /* Código y sintaxis */
        .code-block {
            background-color: #f8f9fa;
            border-left: 4px solid var(--primary-color);
            padding: 15px;
            margin: 20px 0;
            font-family: Consolas, Monaco, 'Andale Mono', monospace;
            overflow-x: auto;
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
        }

        .code-block pre {
            margin: 0;
            white-space: pre-wrap;
            font-size: 0.9rem;
        }

        /* Efecto de resaltado */
        .highlight {
            background-color: rgba(255, 138, 0, 0.2);
            padding: 2px 5px;
            border-radius: 3px;
            font-weight: bold;
            color: var(--accent-dark);
        }

        /* Tips importantes */
        .tip-box {
            background-color: rgba(23, 162, 184, 0.1);
            border-left: 4px solid var(--info-color);
            padding: 15px;
            margin: 20px 0;
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
        }

        .tip-box h4 {
            color: var(--info-dark);
            margin-top: 0;
            display: flex;
            align-items: center;
        }

        .tip-box h4::before {
            content: '💡';
            margin-right: 10px;
            font-size: 1.3rem;
        }

        /* KPI Cards */
        .kpi-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin: 30px 0;
        }

        .kpi-card {
            flex: 1;
            min-width: 200px;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 20px;
            transition: var(--transition);
            border-top: 4px solid var(--primary-color);
        }

        .kpi-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--box-shadow-hover);
        }

        .kpi-title {
            font-size: 0.9rem;
            color: var(--dark-gray);
            margin-bottom: 10px;
        }

        .kpi-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--primary-dark);
            margin-bottom: 10px;
        }

        .kpi-delta {
            display: flex;
            align-items: center;
            font-size: 0.9rem;
        }

        .kpi-delta.positive {
            color: var(--success-color);
        }

        .kpi-delta.negative {
            color: var(--danger-color);
        }

        .kpi-icon {
            margin-right: 5px;
        }

        /* Nuevos componentes sin acordeones */
        .info-panel {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            margin: 25px 0;
            overflow: hidden;
            transition: var(--transition);
        }

        .info-panel:hover {
            box-shadow: var(--box-shadow-hover);
            transform: translateY(-3px);
        }

        .info-panel-header {
            background-color: var(--primary-dark);
            color: white;
            padding: 15px 20px;
            font-weight: bold;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
        }

        .info-panel-header:before {
            content: '';
            display: inline-block;
            width: 24px;
            height: 24px;
            margin-right: 10px;
            background-size: contain;
            background-repeat: no-repeat;
        }

        .info-panel-header.formula:before {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="white" viewBox="0 0 24 24"><path d="M19 3H5C3.9 3 3 3.9 3 5v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5.44 16v-1.24h-.03v.02c-.39 0-3.27-.35-3.4-1.42-.14.06-.02-.37 0-.77.01-.4-.01-.87-.36-1.22-.36.35-.37.82-.36 1.22.1.4.13.83-.01.77-.13 1.07-3.01 1.42-3.4 1.42v-.02h-.03V19c0 .55-.45 1-1 1s-1-.45-1-1v-2h1.5v.5c1.25 0 3.54-.48 3.54-1.65 0-.33.05-.67.13-.98.09-.33.22-.65.38-.96.23-.45.52-.87.85-1.24.38.37.73.82.97 1.31.18.35.3.7.38 1.05.07.28.11.55.13.83v.02c0 1.17 2.33 1.65 3.56 1.65v-.51H19v2c0 .55-.45 1-1 1s-1-.45-1-1V19h-.44zM6.82 13.5v-1.24H6.8v.02c-.4 0-3.27-.35-3.4-1.42-.13.06-.01-.37 0-.77.01-.4-.01-.87-.36-1.22-.36.35-.37.82-.36 1.22.2.4.14.83-.01.77-.13 1.07-3.01 1.42-3.4 1.42v-.02h-.02V13.5c0 .55-.45 1-1 1s-1-.45-1-1v-2h1.5v.5c1.25 0 3.54-.48 3.54-1.65 0-.33.05-.67.13-.98.09-.33.22-.65.38-.96.23-.45.52-.87.85-1.24.38.37.73.82.97 1.31.18.35.3.7.38 1.05.07.28.11.55.13.83v.02c0 1.17 2.33 1.65 3.56 1.65v-.51H19v2c0 .55-.45 1-1 1s-1-.45-1-1V13.5h-1.18z"/></svg>');
        }

        .info-panel-header.context:before {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="white" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm4.17-9.91l-4.95-4.95c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L14.33 12H7c-.55 0-1 .45-1 1s.45 1 1 1h7.33l-4.47 4.47c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0l4.95-4.95c.48-.48.48-1.28-.05-1.84z"/></svg>');
        }

        .info-panel-header.function:before {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="white" viewBox="0 0 24 24"><path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/></svg>');
        }

        .info-panel-header.practices:before {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="white" viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>');
        }

        .info-panel-header.examples:before {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="white" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>');
        }

        .info-panel-content {
            padding: 20px;
        }

        .info-panel-content ul {
            padding-left: 20px;
        }

        .info-panel-content ul li {
            margin-bottom: 8px;
        }

        /* Diseño de dos columnas */
        .two-columns {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin: 20px 0;
        }

        .column {
            flex: 1;
            min-width: 300px;
        }

        /* Tarjetas de información */
        .info-card-container {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin: 20px 0;
        }

        .info-card {
            flex: 1;
            min-width: 250px;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 15px;
            border-left: 5px solid var(--primary-color);
            transition: var(--transition);
        }

        .info-card:nth-child(2) {
            border-left-color: var(--secondary-color);
        }

        .info-card:nth-child(3) {
            border-left-color: var(--info-color);
        }

        .info-card:nth-child(4) {
            border-left-color: var(--success-color);
        }

        .info-card:nth-child(5) {
            border-left-color: var(--warning-color);
        }

        .info-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--box-shadow-hover);
        }

        .info-card-title {
            font-weight: bold;
            color: var(--primary-dark);
            margin-bottom: 10px;
            font-size: 1.1rem;
            border-bottom: 1px solid var(--light-gray);
            padding-bottom: 5px;
        }

        .info-card:nth-child(2) .info-card-title {
            color: var(--secondary-dark);
        }

        .info-card:nth-child(3) .info-card-title {
            color: var(--info-dark);
        }

        .info-card:nth-child(4) .info-card-title {
            color: var(--success-dark);
        }

        .info-card:nth-child(5) .info-card-title {
            color: var(--warning-dark);
        }

        /* Secciones alternadas */
        .alt-section {
            padding: 20px;
            margin: 20px 0;
            border-radius: var(--border-radius);
        }

        .alt-section:nth-child(odd) {
            background-color: var(--background-color);
        }

        .alt-section:nth-child(even) {
            background-color: rgba(124, 198, 254, 0.1);
            border: 1px solid rgba(124, 198, 254, 0.3);
        }

        /* Feature list with icons */
        .feature-list {
            list-style: none;
            padding: 0;
            margin: 20px 0;
        }

        .feature-list li {
            padding: 10px 0 10px 35px;
            position: relative;
            margin-bottom: 10px;
        }

        .feature-list li:before {
            content: '';
            position: absolute;
            left: 0;
            top: 10px;
            width: 24px;
            height: 24px;
            background-size: contain;
            background-repeat: no-repeat;
        }

        .feature-list li.check:before {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="%232C6BAC" viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>');
        }

        .feature-list li.chart:before {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="%232C6BAC" viewBox="0 0 24 24"><path d="M9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4zm2.5 2.1h-15V5h15v14.1zm0-16.1h-15c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h15c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/></svg>');
        }

        .feature-list li.time:before {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="%232C6BAC" viewBox="0 0 24 24"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg>');
        }

        .feature-list li.action:before {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="%232C6BAC" viewBox="0 0 24 24"><path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm-2 14l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z"/></svg>');
        }

        .feature-list li.user:before {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="%232C6BAC" viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>');
        }

        .feature-list li.calculate:before {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="%232C6BAC" viewBox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/></svg>');
        }

        .feature-list li.formula:before {
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="%232C6BAC" viewBox="0 0 24 24"><path d="M18.5 4c.83 0 1.5.67 1.5 1.5v13c0 .83-.67 1.5-1.5 1.5h-13c-.83 0-1.5-.67-1.5-1.5v-13c0-.83.67-1.5 1.5-1.5h13zm-13-2C3.57 2 2 3.57 2 5.5v13C2 20.43 3.57 22 5.5 22h13c1.93 0 3.5-1.57 3.5-3.5v-13C22 3.57 20.43 2 18.5 2h-13zm6.5 15h-1v-1.5H9v-1h2V13H9v-1h2v-1.5h1v1.5h2v1h-2v1.5h2v1h-2V17z"/></svg>');
        }

        /* Gráficas */
        .chart-container {
            position: relative;
            height: 400px;
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            margin: 30px 0;
            padding: 20px;
        }

        .chart-title {
            text-align: center;
            font-weight: bold;
            color: var(--primary-dark);
            margin-bottom: 20px;
            font-size: 1.2rem;
        }

        /* Video Container */
        .video-container {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 aspect ratio */
            height: 0;
            overflow: hidden;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            margin: 30px 0;
            background-color: #000;
        }

        .video-container iframe,
        .video-container object,
        .video-container embed {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }

        .video-section {
            margin: 40px 0;
            padding: 30px;
            background-color: var(--background-color);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
        }

        .video-section h3 {
            color: var(--primary-dark);
            margin-bottom: 20px;
            font-size: 1.8rem;
            text-align: center;
            border-bottom: 2px solid var(--secondary-color);
            padding-bottom: 10px;
        }

        .video-section p {
            text-align: center;
            max-width: 800px;
            margin: 0 auto 20px;
        }

        .tag {
            display: inline-block;
            padding: 5px 10px;
            background-color: var(--primary-color);
            color: white;
            border-radius: 20px;
            font-size: 0.8rem;
            margin: 5px;
        }

        .tag-container {
            text-align: center;
            margin-bottom: 20px;
        }

        /* Instrucciones ilustradas */
        .steps-container {
            margin: 30px 0;
        }

        .step-item {
            display: flex;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px dashed var(--light-gray);
        }

        .step-number {
            flex: 0 0 50px;
            height: 50px;
            border-radius: 50%;
            background-color: var(--primary-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
            margin-right: 20px;
        }

        .step-content {
            flex: 1;
        }

        .step-title {
            font-size: 1.2rem;
            color: var(--primary-dark);
            margin-bottom: 10px;
            font-weight: bold;
        }

        .step-description {
            margin-bottom: 15px;
        }

        .step-image {
            max-width: 100%;
            height: auto;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            margin-top: 10px;
        }

        /* Image placeholders */
        .image-placeholder {
            width: 100%;
            height: 200px;
            background-color: #e0e0e0;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: var(--border-radius);
            margin: 20px 0;
            color: #888;
            font-style: italic;
        }

        /* Consulta de medios para responsividad */
        @media (max-width: 768px) {
            .flip-card-container {
                flex-direction: column;
                align-items: center;
            }
            
            .flip-card {
                width: 100%;
                max-width: 300px;
            }
            
            .quiz-options {
                flex-direction: column;
            }

            .kpi-container {
                flex-direction: column;
            }

            .step-item {
                flex-direction: column;
            }

            .step-number {
                margin-bottom: 15px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="header-content">
            <h1>Power BI con People Analytics</h1>
            <p>Sección 4: Análisis con DAX</p>
        </div>
    </header>

    <div class="container">
        <section class="section">
            <h2>Introducción a DAX para People Analytics</h2>
            <p>Bienvenidos a la cuarta sección de nuestro curso sobre <strong>Power BI para People Analytics</strong>. En las secciones anteriores, hemos explorado la interfaz de Power BI, aprendido a preparar datos y crear visualizaciones básicas. Ahora, conoceremos cómo realizar análisis más efectivos aprovechando los cálculos disponibles en Power BI y la introducción a DAX (Data Analysis Expressions).</p>
            
            <p>En esta sección veremos cómo aprovechar las funcionalidades integradas de Power BI para analizar datos de recursos humanos, así como crear medidas básicas que nos permitan calcular métricas específicas de RRHH como tasas de rotación, diversidad, o promedio salarial.</p>
            
            <div class="subsection">
                <h3>¿Qué es DAX y cómo nos ayuda en People Analytics?</h3>
                
                <div class="two-columns">
                    <div class="column">
                        <p>DAX (Data Analysis Expressions) es un lenguaje de fórmulas que permite crear cálculos personalizados en Power BI. Es similar a las fórmulas de Excel, pero con capacidades más potentes para análisis de datos relacionales.</p>
                        
                        <p>En el contexto de People Analytics, DAX nos permite:</p>
                        <ul class="feature-list">
                            <li class="calculate"><strong>Calcular métricas específicas de RRHH:</strong> Como tasas de rotación, diversidad, promedio salarial, etc.</li>
                            <li class="time"><strong>Realizar análisis en el tiempo:</strong> Comparar períodos, ver tendencias y patrones en datos de personal.</li>
                            <li class="chart"><strong>Crear visualizaciones dinámicas:</strong> Que responden a filtros y selecciones del usuario.</li>
                        </ul>
                    </div>
                    
                    <div class="column">
                        <div class="info-panel">
                            <div class="info-panel-header function">Lo mejor de ambos mundos</div>
                            <div class="info-panel-content">
                                <p>Power BI te ofrece dos caminos para analizar tus datos de RRHH:</p>
                                <ul>
                                    <li><strong>Cálculos rápidos incorporados:</strong> Para cálculos básicos como sumas, promedios o conteos, puedes usar las opciones automáticas de Power BI sin necesidad de aprender DAX.</li>
                                    <li><strong>Medidas personalizadas con DAX:</strong> Para cálculos más específicos y complejos de recursos humanos, puedes crear fórmulas DAX básicas.</li>
                                </ul>
                                <p>En esta sección, nos enfocaremos principalmente en las funcionalidades incorporadas y medidas DAX sencillas para usuarios que están comenzando con Power BI.</p>
                            </div>
                        </div>
                        
                        <div class="tip-box">
                            <h4>¡Comienza sin complicaciones!</h4>
                            <p>Si vienes de usar Excel, te alegrará saber que muchas funciones de DAX son similares (SUM, AVERAGE, COUNT). No necesitas ser un experto en DAX para comenzar a obtener valor de Power BI para tus análisis de recursos humanos.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Primera parte: Cálculos y medidas incorporadas -->
        <section class="section">
            <h2>1. Cálculos automáticos y medidas básicas</h2>
            
            <p>Power BI ofrece muchas opciones de cálculo incorporadas que puedes utilizar sin necesidad de escribir código DAX complejo. Estas opciones son perfectas para comenzar tu análisis de datos de RRHH.</p>
            
            <div class="subsection">
                <h3>Aprovechar los cálculos incorporados de Power BI</h3>
                
                <div class="steps-container">
                    <div class="step-item">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <div class="step-title">Cálculos rápidos en visualizaciones</div>
                            <div class="step-description">
                                <p>Cuando arrastras un campo numérico a una visualización, Power BI aplica automáticamente una agregación (generalmente suma). Puedes cambiar esto fácilmente:</p>
                                <ol>
                                    <li>Arrastra un campo numérico a tu visualización (por ejemplo, "Salario")</li>
                                    <li>Haz clic en la flecha desplegable junto al campo en el panel "Valores"</li>
                                    <li>Selecciona el tipo de agregación: Suma, Promedio, Mínimo, Máximo, Conteo, etc.</li>
                                </ol>
                            </div>
                            <div class="image-placeholder">
                                [Imagen: Menú de agregación de campo en Power BI]
                            </div>
                        </div>
                    </div>
                    
                    <div class="step-item">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <div class="step-title">Columnas calculadas sin DAX</div>
                            <div class="step-description">
                                <p>Puedes crear columnas calculadas directamente desde el panel "Campos" sin escribir fórmulas DAX complejas:</p>
                                <ol>
                                    <li>Haz clic derecho en la tabla en el panel "Campos"</li>
                                    <li>Selecciona "Nueva columna"</li>
                                    <li>Utiliza el editor de fórmulas con operadores simples (+, -, *, /)</li>
                                </ol>
                                <p>Por ejemplo, para calcular la antigüedad en años: <code>Antigüedad = YEARFRAC([Fecha_Contratacion], TODAY())</code></p>
                            </div>
                            <div class="image-placeholder">
                                [Imagen: Creación de una columna calculada]
                            </div>
                        </div>
                    </div>
                    
                    <div class="step-item">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <div class="step-title">Parámetros de formato avanzados</div>
                            <div class="step-description">
                                <p>Power BI permite dar formato a tus medidas sin código adicional:</p>
                                <ol>
                                    <li>Selecciona un campo visual en tu visualización</li>
                                    <li>En el panel "Formatos", establece el formato adecuado (porcentaje, moneda, etc.)</li>
                                    <li>Ajusta el número de decimales, separadores y otras opciones de formato</li>
                                </ol>
                            </div>
                            <div class="image-placeholder">
                                [Imagen: Panel de formato para campos numéricos]
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="info-panel">
                    <div class="info-panel-header examples">Ejemplos de cálculos automáticos para RRHH</div>
                    <div class="info-panel-content">
                        <div class="info-card-container">
                            <div class="info-card">
                                <div class="info-card-title">Promedio salarial por departamento</div>
                                <p>1. Arrastra "Departamento" al eje X<br>
                                2. Arrastra "Salario" al área de valores<br>
                                3. Cambia agregación de "Salario" a "Promedio"</p>
                            </div>
                            <div class="info-card">
                                <div class="info-card-title">Conteo de empleados por ubicación</div>
                                <p>1. Arrastra "Ubicación" al eje de categorías<br>
                                2. Arrastra "ID_Empleado" al área de valores<br>
                                3. Cambia agregación a "Conteo (Distinto)"</p>
                            </div>
                            <div class="info-card">
                                <div class="info-card-title">Total de horas de capacitación</div>
                                <p>1. Arrastra "Fecha" al eje X<br>
                                2. Arrastra "Horas_Capacitación" al área de valores<br>
                                3. Deja la agregación predeterminada "Suma"</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="subsection">
                <h3>Creación de medidas sencillas con DAX</h3>
                <p>Para algunos cálculos específicos de RRHH, necesitaremos crear medidas básicas con DAX. Estas son fórmulas sencillas para comenzar:</p>
                
                <div class="alt-section">
                    <h4>Conteo de empleados activos</h4>
                    <p>Una métrica fundamental en cualquier dashboard de RRHH:</p>
                    
                    <div class="code-block">
                        <pre>Headcount = 
COUNTROWS(
    FILTER(Empleados, Empleados[Estado] = "Activo")
)</pre>
                    </div>
                    
                    <p>Esta medida simplemente cuenta las filas en la tabla "Empleados" donde el campo "Estado" es igual a "Activo".</p>
                </div>
                
                <div class="alt-section">
                    <h4>Promedio de antigüedad</h4>
                    <p>Para calcular la antigüedad promedio de los empleados:</p>
                    
                    <div class="code-block">
                        <pre>Antigüedad Promedio = 
AVERAGE(Empleados[Antigüedad])</pre>
                    </div>
                    
                    <p>Esta medida calcula el promedio del campo "Antigüedad" para todos los empleados. Si aplicas filtros, como seleccionar un departamento, el resultado se ajustará automáticamente.</p>
                </div>
                
                <div class="alt-section">
                    <h4>Salario promedio</h4>
                    <p>Para calcular el salario promedio:</p>
                    
                    <div class="code-block">
                        <pre>Salario Promedio = 
AVERAGE(Empleados[Salario])</pre>
                    </div>
                    
                    <p>Esta medida proporciona el salario promedio y se actualizará dinámicamente cuando apliques filtros como departamento, ubicación o nivel jerárquico.</p>
                </div>
            </div>
            
            <div class="info-panel">
                <div class="info-panel-header practices">Mejores prácticas para medidas en Power BI</div>
                <div class="info-panel-content">
                    <ul>
                        <li><strong>Nombres descriptivos:</strong> Usa nombres claros que indiquen qué calcula la medida (ej. "Tasa de Rotación Mensual" en lugar de "TR").</li>
                        <li><strong>Formato adecuado:</strong> Aplica el formato apropiado a tus medidas (porcentaje, moneda, número decimal) para mejorar la legibilidad.</li>
                        <li><strong>Organización en carpetas:</strong> Agrupa las medidas relacionadas en carpetas temáticas para facilitar su localización.</li>
                        <li><strong>Documentación:</strong> Añade descripciones a tus medidas para que otros usuarios entiendan su propósito.</li>
                    </ul>
                </div>
            </div>
            
            <div class="flip-card-container">
                <div class="flip-card">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <h3>Consejo Power BI</h3>
                            <p>Diferencia clave</p>
                        </div>
                        <div class="flip-card-back">
                            <h4>Columnas vs. Medidas</h4>
                            <p>Las columnas calculadas se evalúan fila por fila y se almacenan en el modelo de datos. Son ideales para categorizar (edad, antigüedad, bandas salariales).</p>
                            <p>Las medidas se calculan al momento de la visualización y responden a filtros. Son ideales para KPIs y métricas agregadas.</p>
                        </div>
                    </div>
                </div>
                
                <div class="flip-card">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <h3>Consejo Power BI</h3>
                            <p>Campos calculados rápidos</p>
                        </div>
                        <div class="flip-card-back">
                            <h4>Campo rápido</h4>
                            <p>Power BI permite crear "campos rápidos" directamente desde la visualización:</p>
                            <p>1. Haz clic en "Nueva medida rápida" en el menú</p>
                            <p>2. Selecciona un cálculo predefinido</p>
                            <p>3. Elige los campos para la operación</p>
                            <p>¡Sin necesidad de escribir código DAX!</p>
                        </div>
                    </div>
                </div>
                
                <div class="flip-card">
                    <div class="flip-card-inner">
                        <div class="flip-card-front">
                            <h3>Consejo Power BI</h3>
                            <p>Aprende observando</p>
                        </div>
                        <div class="flip-card-back">
                            <h4>DAX automático</h4>
                            <p>Una excelente forma de aprender DAX es usar medidas rápidas y luego examinar el código DAX que Power BI genera automáticamente.</p>
                            <p>Esto te ayudará a entender cómo se construyen fórmulas más complejas para cuando necesites crearlas tú mismo.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Segunda parte: Calcular métricas como tasa de rotación -->
        <section class="section">
            <h2>2. Calcular métricas como tasa de rotación</h2>
            
            <p>La tasa de rotación (employee turnover rate) es una de las métricas más importantes en People Analytics. Mide la proporción de empleados que dejan la organización durante un período determinado. Veamos cómo calcularla usando tanto métodos incorporados como fórmulas DAX simples.</p>
            
            <div class="subsection">
                <h3>Enfoque para calcular la rotación</h3>
                
                <div class="info-panel">
                    <div class="info-panel-header formula">Fórmula básica de tasa de rotación</div>
                    <div class="info-panel-content">
                        <p>La fórmula estándar para calcular la tasa de rotación es:</p>
                        <div class="code-block">
                            <pre>Tasa de Rotación = 
Número de salidas en el período / 
Headcount promedio del período</pre>
                        </div>
                        <p>Esta fórmula simple nos da un porcentaje que indica qué proporción de la plantilla ha salido de la empresa en un período determinado.</p>
                    </div>
                </div>
                
                <div class="steps-container">
                    <div class="step-item">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <div class="step-title">Contar las salidas del período</div>
                            <div class="step-description">
                                <p>Primero, necesitamos contar cuántos empleados han salido en un período específico:</p>
                                <ol>
                                    <li>Crea una medida para contar las salidas</li>
                                    <li>Filtra por el período de tiempo relevante</li>
                                </ol>
                                <div class="code-block">
                                    <pre>Total Salidas = 
COUNTROWS(
    FILTER(Empleados, NOT(ISBLANK(Empleados[Fecha_Terminacion])))
)</pre>
                                </div>
                                <p>Esta medida cuenta todos los empleados que tienen una fecha de terminación (es decir, que ya no están en la empresa).</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="step-item">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <div class="step-title">Calcular el headcount promedio</div>
                            <div class="step-description">
                                <p>A continuación, calculamos el headcount promedio:</p>
                                <div class="code-block">
                                    <pre>Headcount Total = 
COUNTROWS(Empleados)</pre>
                                </div>
                                <p>Esta es una aproximación simplificada. En un enfoque más avanzado, calcularíamos el promedio del headcount al inicio y al final del período, pero para comenzar, esta versión simplificada es suficiente.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="step-item">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <div class="step-title">Calcular la tasa de rotación</div>
                            <div class="step-description">
                                <p>Finalmente, dividimos las salidas entre el headcount:</p>
                                <div class="code-block">
                                    <pre>% Rotación = 
DIVIDE([Total Salidas], [Headcount Total], 0)</pre>
                                </div>
                                <p>La función DIVIDE es similar a una división normal, pero maneja automáticamente el caso de división por cero (retornando 0 en lugar de un error).</p>
                                <p>¡No olvides dar formato a esta medida como porcentaje en el panel de formato!</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="info-panel">
                    <div class="info-panel-header practices">Variaciones útiles del cálculo de rotación</div>
                    <div class="info-panel-content">
                        <div class="info-card-container">
                            <div class="info-card">
                                <div class="info-card-title">Rotación voluntaria vs. involuntaria</div>
                                <p>Filtra por el tipo de salida para distinguir entre renuncias (voluntaria) y despidos (involuntaria).</p>
                            </div>
                            <div class="info-card">
                                <div class="info-card-title">Rotación por departamento</div>
                                <p>Aplica la misma fórmula pero deja que Power BI segmente automáticamente por departamento al arrastrarlo a una visualización.</p>
                            </div>
                            <div class="info-card">
                                <div class="info-card-title">Rotación de alto rendimiento</div>
                                <p>Filtra por empleados con evaluaciones de desempeño superiores para ver si estás perdiendo talento valioso.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="chart-container">
                <div class="chart-title">Visualización de tasa de rotación mensual por departamento</div>
                <svg width="100%" height="350">
                    <!-- Ejes -->
                    <line x1="80" y1="300" x2="850" y2="300" stroke="#666" stroke-width="1"/>
                    <line x1="80" y1="50" x2="80" y2="300" stroke="#666" stroke-width="1"/>
                    
                    <!-- Etiquetas eje Y (porcentajes) -->
                    <text x="70" y="50" text-anchor="end" font-size="12" fill="#666">6%</text>
                    <text x="70" y="100" text-anchor="end" font-size="12" fill="#666">5%</text>
                    <text x="70" y="150" text-anchor="end" font-size="12" fill="#666">4%</text>
                    <text x="70" y="200" text-anchor="end" font-size="12" fill="#666">3%</text>
                    <text x="70" y="250" text-anchor="end" font-size="12" fill="#666">2%</text>
                    <text x="70" y="300" text-anchor="end" font-size="12" fill="#666">1%</text>
                    
                    <!-- Líneas de cuadrícula -->
                    <line x1="80" y1="50" x2="850" y2="50" stroke="#ddd" stroke-width="1" stroke-dasharray="5,5"/>
                    <line x1="80" y1="100" x2="850" y2="100" stroke="#ddd" stroke-width="1" stroke-dasharray="5,5"/>
                    <line x1="80" y1="150" x2="850" y2="150" stroke="#ddd" stroke-width="1" stroke-dasharray="5,5"/>
                    <line x1="80" y1="200" x2="850" y2="200" stroke="#ddd" stroke-width="1" stroke-dasharray="5,5"/>
                    <line x1="80" y1="250" x2="850" y2="250" stroke="#ddd" stroke-width="1" stroke-dasharray="5,5"/>
                    
                    <!-- Líneas de datos por departamento -->
                    <!-- IT -->
                    <polyline 
                        points="150,200 210,170 270,190 330,150 390,180 450,120 510,100 570,50 630,80 690,100 750,150 810,130" 
                        fill="none" 
                        stroke="#2C6BAC" 
                        stroke-width="3"
                    />
                    
                    <!-- Ventas -->
                    <polyline 
                        points="150,220 210,240 270,200 330,180 390,210 450,190 510,150 570,170 630,190 690,210 750,180 810,200" 
                        fill="none" 
                        stroke="#FF8A00" 
                        stroke-width="3"
                    />
                    
                    <!-- RRHH -->
                    <polyline 
                        points="150,250 210,260 270,270 330,260 390,240 450,250 510,260 570,240 630,250 690,240 750,250 810,240" 
                        fill="none" 
                        stroke="#28a745" 
                        stroke-width="3"
                    />
                    
                    <!-- Etiquetas eje X (meses) -->
                    <text x="150" y="320" text-anchor="middle" font-size="12" fill="#666">Ene</text>
                    <text x="210" y="320" text-anchor="middle" font-size="12" fill="#666">Feb</text>
                    <text x="270" y="320" text-anchor="middle" font-size="12" fill="#666">Mar</text>
                    <text x="330" y="320" text-anchor="middle" font-size="12" fill="#666">Abr</text>
                    <text x="390" y="320" text-anchor="middle" font-size="12" fill="#666">May</text>
                    <text x="450" y="320" text-anchor="middle" font-size="12" fill="#666">Jun</text>
                    <text x="510" y="320" text-anchor="middle" font-size="12" fill="#666">Jul</text>
                    <text x="570" y="320" text-anchor="middle" font-size="12" fill="#666">Ago</text>
                    <text x="630" y="320" text-anchor="middle" font-size="12" fill="#666">Sep</text>
                    <text x="690" y="320" text-anchor="middle" font-size="12" fill="#666">Oct</text>
                    <text x="750" y="320" text-anchor="middle" font-size="12" fill="#666">Nov</text>
                    <text x="810" y="320" text-anchor="middle" font-size="12" fill="#666">Dic</text>
                    
                    <!-- Leyenda -->
                    <rect x="600" y="20" width="15" height="15" fill="#2C6BAC"/>
                    <text x="625" y="32" font-size="12" fill="#666">Tecnología</text>
                    
                    <rect x="600" y="40" width="15" height="15" fill="#FF8A00"/>
                    <text x="625" y="52" font-size="12" fill="#666">Ventas</text>
                    
                    <rect x="600" y="60" width="15" height="15" fill="#28a745"/>
                    <text x="625" y="72" font-size="12" fill="#666">RRHH</text>
                    
                    <!-- Título del eje Y -->
                    <text x="40" y="175" text-anchor="middle" font-size="12" fill="#666" transform="rotate(-90, 40, 175)">Tasa de rotación (%)</text>
                </svg>
            </div>
            
            <div class="tip-box">
                <h4>Consejos para el cálculo de rotación</h4>
                <ul>
                    <li><strong>Definición clara:</strong> Asegúrate de que todos en tu organización entiendan qué se considera "rotación" (¿incluye contratos temporales? ¿jubilaciones?).</li>
                    <li><strong>Segmentación adecuada:</strong> La rotación global puede ocultar problemas específicos. Siempre analiza por departamento, antigüedad y otros factores relevantes.</li>
                    <li><strong>Contexto temporal:</strong> Considera factores estacionales (finales de año, temporada alta) que pueden afectar temporalmente las tasas.</li>
                    <li><strong>Comparativa de mercado:</strong> Una tasa de rotación solo es significativa cuando se compara con benchmarks de la industria.</li>
                </ul>
            </div>
        </section>

        <!-- Tercera parte: Otras métricas de RRHH -->
        <section class="section">
            <h2>3. Otras métricas clave de RRHH</h2>
            
            <p>Más allá de la rotación, hay muchas otras métricas esenciales para People Analytics que puedes calcular fácilmente con Power BI. Veamos algunas de las más relevantes y cómo implementarlas de manera sencilla.</p>
            
            <div class="subsection">
                <h3>Métricas de diversidad e inclusión</h3>
                
                <div class="alt-section">
                    <h4>Porcentaje de género</h4>
                    <p>Para calcular la representación de género en la organización:</p>
                    
                    <div class="code-block">
                        <pre>% Mujeres = 
DIVIDE(
    CALCULATE(COUNTROWS(Empleados), Empleados[Genero] = "Mujer"),
    COUNTROWS(Empleados),
    0
)</pre>
                    </div>
                    
                    <p>Esta medida calcula qué porcentaje de empleados son mujeres. Si aplicas filtros (por ejemplo, a un departamento específico), el porcentaje se actualizará automáticamente.</p>
                </div>
                
                <div class="alt-section">
                    <h4>Distribución por edad</h4>
                    <p>Para analizar la distribución por grupos de edad:</p>
                    
                    <p>En lugar de una fórmula DAX compleja, puedes:</p>
                    <ol>
                        <li>Crear una columna calculada que categorice la edad en grupos</li>
                        <li>Usar visualizaciones con esta columna y aplicar porcentajes</li>
                    </ol>
                    
                    <div class="code-block">
                        <pre>Grupo de Edad = 
IF(Empleados[Edad] < 25, "18-24",
IF(Empleados[Edad] < 35, "25-34",
IF(Empleados[Edad] < 45, "35-44",
IF(Empleados[Edad] < 55, "45-54",
"55+"))))</pre>
                    </div>
                    
                    <p>Luego simplemente arrastra esta columna a un gráfico de barras o circular y configura la visualización para mostrar porcentajes en lugar de conteos.</p>
                </div>
            </div>
            
            <div class="subsection">
                <h3>Métricas de reclutamiento</h3>
                
                <div class="alt-section">
                    <h4>Tiempo promedio para contratar</h4>
                    <p>Para calcular el tiempo promedio que toma cubrir una vacante:</p>
                    
                    <div class="code-block">
                        <pre>Tiempo para Contratar = 
AVERAGE(
    Contrataciones[Dias_Proceso]
)</pre>
                    </div>
                    
                    <p>Asumiendo que tienes una columna "Dias_Proceso" que representa los días entre la apertura de la vacante y la fecha de contratación.</p>
                    
                    <p>Alternativamente, puedes calcular esta columna:</p>
                    
                    <div class="code-block">
                        <pre>Dias_Proceso = 
DATEDIFF(Contrataciones[Fecha_Apertura], Contrataciones[Fecha_Contratacion], DAY)</pre>
                    </div>
                </div>
                
                <div class="alt-section">
                    <h4>Tasa de conversión de candidatos</h4>
                    <p>Para analizar la eficiencia del proceso de selección:</p>
                    
                    <div class="code-block">
                        <pre>% Conversión Entrevista a Oferta = 
DIVIDE(
    CALCULATE(COUNTROWS(Candidatos), Candidatos[Etapa] = "Oferta"),
    CALCULATE(COUNTROWS(Candidatos), Candidatos[Etapa] = "Entrevista"),
    0
)</pre>
                    </div>
                    
                    <p>Esta medida calcula qué porcentaje de candidatos que llegan a la entrevista reciben una oferta.</p>
                </div>
            </div>
            
            <div class="info-card-container">
                <div class="info-card">
                    <div class="info-card-title">Brecha salarial</div>
                    <p>Compara el salario promedio entre diferentes grupos demográficos (género, edad, etc.) para identificar posibles disparidades.</p>
                </div>
                <div class="info-card">
                    <div class="info-card-title">Índice de compromiso</div>
                    <p>Calcula el promedio de respuestas a preguntas clave de encuestas de clima laboral o encuestas de pulso.</p>
                </div>
                <div class="info-card">
                    <div class="info-card-title">Curva de desempeño</div>
                    <p>Visualiza la distribución porcentual de empleados en cada nivel de evaluación de desempeño.</p>
                </div>
                <div class="info-card">
                    <div class="info-card-title">Costo por contratación</div>
                    <p>Divide el costo total del proceso de reclutamiento entre el número de contrataciones exitosas.</p>
                </div>
            </div>
        </section>

        <!-- Cuarta parte: Ejercicio práctico -->
        <section class="section">
            <h2>4. Ejercicio: Medir rotación anual y graficarla</h2>
            
            <p>Para consolidar lo aprendido, vamos a realizar un ejercicio práctico de análisis de rotación. Crearemos medidas sencillas que nos permitirán analizar la rotación anual y visualizarla efectivamente.</p>
            
            <div class="subsection">
                <h3>Planteamiento del ejercicio</h3>
                <p>Imagina que tienes una tabla de empleados con los siguientes campos:</p>
                <ul>
                    <li>ID: Identificador único del empleado</li>
                    <li>Nombre: Nombre del empleado</li>
                    <li>Departamento: Departamento (Ventas, Marketing, IT, RRHH, etc.)</li>
                    <li>FechaContratacion: Fecha de contratación</li>
                    <li>FechaTerminacion: Fecha de salida (nulo si sigue activo)</li>
                    <li>TipoTerminacion: Tipo de salida (Voluntaria, Involuntaria, o nulo)</li>
                    <li>Ubicacion: Oficina o localización</li>
                </ul>
                
                <p>Tu objetivo es crear un análisis que muestre:</p>
                <ol>
                    <li>La tasa de rotación global para el año actual</li>
                    <li>La rotación desglosada por departamento</li>
                    <li>La tendencia de rotación a lo largo del tiempo</li>
                </ol>
            </div>
            
            <div class="subsection">
                <h3>Solución paso a paso</h3>
                
                <div class="steps-container">
                    <div class="step-item">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <div class="step-title">Crear medidas básicas</div>
                            <div class="step-description">
                                <p>Primero, creamos las medidas fundamentales que necesitaremos:</p>
                                
                                <div class="code-block">
                                    <pre>Total Empleados = 
COUNTROWS(Empleados)

Empleados Activos = 
CALCULATE(
    COUNTROWS(Empleados),
    ISBLANK(Empleados[FechaTerminacion])
)

Salidas Totales = 
CALCULATE(
    COUNTROWS(Empleados),
    NOT(ISBLANK(Empleados[FechaTerminacion]))
)</pre>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="step-item">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <div class="step-title">Calcular la tasa de rotación</div>
                            <div class="step-description">
                                <p>Ahora calculamos la tasa de rotación (versión simplificada):</p>
                                
                                <div class="code-block">
                                    <pre>% Rotación = 
DIVIDE(
    [Salidas Totales],
    [Total Empleados],
    0
)</pre>
                                </div>
                                
                                <p>No olvides dar formato a esta medida como porcentaje en el panel de formatos.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="step-item">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <div class="step-title">Crear visualizaciones efectivas</div>
                            <div class="step-description">
                                <p>Ahora podemos utilizar estas medidas en diversas visualizaciones:</p>
                                
                                <ol>
                                    <li><strong>Tarjeta KPI:</strong> Muestra la tasa de rotación global con un indicador de comparación con el año anterior.</li>
                                    <li><strong>Gráfico de barras:</strong> Compara la rotación por departamento ordenada de mayor a menor.</li>
                                    <li><strong>Gráfico de líneas:</strong> Muestra la tendencia de rotación a lo largo del tiempo (por mes).</li>
                                    <li><strong>Tabla con formato condicional:</strong> Muestra la rotación por departamento con formato de color para destacar valores altos.</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                    
                    <div class="step-item">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <div class="step-title">Añadir segmentaciones y filtros</div>
                            <div class="step-description">
                                <p>Para hacer el análisis interactivo:</p>
                                
                                <ol>
                                    <li>Añade una segmentación por año para filtrar los datos por período</li>
                                    <li>Incluye filtros por ubicación o departamento</li>
                                    <li>Agrega una segmentación por tipo de terminación (voluntaria/involuntaria)</li>
                                </ol>
                                
                                <p>Las medidas que hemos creado responderán automáticamente a estos filtros sin necesidad de modificar el código DAX.</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="kpi-container">
                    <div class="kpi-card">
                        <div class="kpi-title">Rotación anual</div>
                        <div class="kpi-value">15.4%</div>
                        <div class="kpi-delta negative">
                            <span class="kpi-icon">▲</span> 2.8% vs. año anterior
                        </div>
                    </div>
                    
                    <div class="kpi-card">
                        <div class="kpi-title">Rotación voluntaria</div>
                        <div class="kpi-value">10.2%</div>
                        <div class="kpi-delta negative">
                            <span class="kpi-icon">▲</span> 3.2% vs. año anterior
                        </div>
                    </div>
                    
                    <div class="kpi-card">
                        <div class="kpi-title">Rotación involuntaria</div>
                        <div class="kpi-value">5.2%</div>
                        <div class="kpi-delta positive">
                            <span class="kpi-icon">▼</span> 0.4% vs. año anterior
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="tip-box">
                <h4>Análisis adicionales para explorar</h4>
                <p>Para un análisis más completo de rotación, considera incluir estas dimensiones:</p>
                <ul>
                    <li><strong>Antigüedad:</strong> ¿La rotación es mayor entre empleados nuevos o veteranos?</li>
                    <li><strong>Desempeño:</strong> ¿Estamos perdiendo empleados de alto desempeño?</li>
                    <li><strong>Manager:</strong> ¿Hay supervisores con tasas de rotación consistentemente más altas?</li>
                    <li><strong>Motivos de salida:</strong> Análisis de las razones específicas de las salidas voluntarias</li>
                </ul>
                <p>Estos análisis pueden implementarse usando las mismas técnicas básicas que hemos aprendido en esta sección.</p>
            </div>
        </section>

        <!-- Video de VIMEO -->
        <section class="video-section">
            <h3>Análisis práctico de datos de RRHH con Power BI</h3>
            
            <div class="tag-container">
                <span class="tag">People Analytics</span>
                <span class="tag">Power BI</span>
                <span class="tag">Métricas RRHH</span>
                <span class="tag">Visualización de datos</span>
                <span class="tag">Dashboard RRHH</span>
            </div>
            
            <p>En el siguiente video podrás ver un caso práctico completo sobre cómo analizar datos de recursos humanos utilizando Power BI. Verás cómo importar datos, crear medidas básicas y diseñar un dashboard interactivo para la toma de decisiones en recursos humanos.</p>
            
            <div class="video-container">
                <iframe src="https://player.vimeo.com/video/123456789?h=abcdef&title=0&byline=0&portrait=0" width="640" height="360" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>
            </div>
            
            <p>Este video complementa perfectamente los conceptos que hemos cubierto en esta sección, mostrando cómo aplicar estas técnicas en un escenario real de análisis de recursos humanos. Aprenderás a crear un flujo de trabajo completo desde los datos hasta insights accionables.</p>
        </section>

        <section class="section">
            <h2>Resumen y recursos adicionales</h2>
            
            <div class="subsection">
                <h3>Puntos clave sobre análisis en Power BI para People Analytics</h3>
                <ul class="feature-list">
                    <li class="check"><strong>Cálculos incorporados:</strong> Power BI ofrece numerosos cálculos automáticos que puedes usar sin necesidad de código DAX complejo.</li>
                    <li class="check"><strong>Medidas básicas:</strong> Con unas pocas medidas DAX sencillas, puedes calcular la mayoría de las métricas importantes para RRHH.</li>
                    <li class="check"><strong>Visualizaciones dinámicas:</strong> Las medidas se actualizan automáticamente cuando aplicas filtros, lo que permite un análisis interactivo.</li>
                    <li class="check"><strong>Métricas clave:</strong> Hemos aprendido a calcular rotación, diversidad, indicadores de reclutamiento y otras métricas relevantes para People Analytics.</li>
                </ul>
            </div>
            
            <div class="subsection">
                <h3>Recursos adicionales para aprender más</h3>
                <ul>
                    <li><strong>Power BI Learning:</strong> Portal oficial de Microsoft con tutoriales gratuitos para todos los niveles.</li>
                    <li><strong>YouTube:</strong> Canales como "Guy in a Cube" y "Curbal" ofrecen tutoriales excelentes sobre Power BI.</li>
                    <li><strong>Comunidad de Power BI:</strong> Foros donde puedes hacer preguntas específicas sobre análisis de datos de RRHH.</li>
                    <li><strong>Plantillas:</strong> Microsoft ofrece plantillas gratuitas de Power BI para RRHH que puedes descargar y adaptar.</li>
                </ul>
            </div>
            
            <div class="tip-box">
                <h4>Próximos pasos</h4>
                <p>En la siguiente sección, aprenderemos a integrar todas estas métricas y visualizaciones en dashboards interactivos que proporcionen una vista completa del capital humano de la organización. Exploraremos cómo diseñar interfaces efectivas, añadir filtros y segmentaciones, y crear experiencias de usuario que faciliten la toma de decisiones basada en datos en RRHH.</p>
            </div>
        </section>
    </div>

    <script>
        // Función para manejar las opciones del quiz
        document.querySelectorAll('.quiz-option').forEach(option => {
            option.addEventListener('click', () => {
                const parentOptions = option.parentElement.querySelectorAll('.quiz-option');
                parentOptions.forEach(opt => opt.classList.remove('selected'));
                option.classList.add('selected');
            });
        });
        
        document.querySelectorAll('.btn-check').forEach(button => {
            button.addEventListener('click', () => {
                document.querySelectorAll('.quiz-question').forEach(question => {
                    const selectedOption = question.querySelector('.quiz-option.selected');
                    const feedback = question.querySelector('.quiz-feedback');
                    
                    if (selectedOption) {
                        const isCorrect = selectedOption.getAttribute('data-correct') === 'true';
                        feedback.textContent = isCorrect ? '¡Correcto!' : 'Incorrecto. Intenta de nuevo.';
                        feedback.className = 'quiz-feedback ' + (isCorrect ? 'correct' : 'incorrect');
                        feedback.style.display = 'block';
                    }
                });
            });
        });
        
        document.querySelectorAll('.btn-reset').forEach(button => {
            button.addEventListener('click', () => {
                document.querySelectorAll('.quiz-option').forEach(option => {
                    option.classList.remove('selected');
                });
                document.querySelectorAll('.quiz-feedback').forEach(feedback => {
                    feedback.style.display = 'none';
                });
            });
        });
    </script>
</body>
</html>